<div ng-if='statusMessage' class="alert alert-info" role="alert">{{statusMessage}}</div>

<!-- todo: better loading messages -->
<section  >
  <div 
    ng-show="stockAdjustments.stock_adjustments.total_entries > 0"
    class="alert alert-success" >No stock adjustments</div>
  
  <header class="flex flex-center flex-justify mb3">
    <div class="flex mr3">
      <h1 class="h2">Stock Adjustments</h1>
      <span class="callout">{{stockAdjustments.total_entries}}</span>
    </div>
    <div role="toolbar">
      <!-- You don't have to implement this -->
      <button class="button">Adjust stock level</button>
    </div>
  </header>
  <div class="mxn3 max-mx0">
    <table class="table mb6">
      <tbody>
        <tr class="table__row-header">
          <th class="table__cell-header">Adjustment type</th>
          <th class="table__cell-header">Quantity</th>
          <th class="table__cell-header">Adjusted at</th>
          <th class="table__cell-header">Adjusted by</th>
          <th class="table__cell-header">Notes</th>
        </tr>
        <tr ng-show="stockAdjustments.total_entries==0" >        
          <td>Initial Stock Level</td>
          <td>{{product.stock_level}}</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr ng-repeat="adjustment in stockAdjustments.stock_adjustments" class="table__row">
            <td class="table__cell" data-label="Adjustment type">
              {{adjustment.adjustment_type}}
            </td>
            <td class="table__cell" data-label="Quantity">
              {{adjustment.quantity}}
            </td>
            <!-- 30 Oct 2015, 2:03PM -->
            <td class="table__cell" data-label="Adjusted at">{{adjustment.updated_at}}</td>
            <td class="table__cell" data-label="Adjusted by">
              <!-- todo: directive to get user details -->
              {{adjustment.user}}
            </td>
            <td class="table__cell" data-label="Notes">
              {{adjustment.comment}}
            </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>